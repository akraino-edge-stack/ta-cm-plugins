{
  "comments": [
    {
      "key": {
        "uuid": "fba431da_d54e3858",
        "filename": "inventoryhandlers/openstack/openstackinventory.py",
        "patchSetId": 5
      },
      "lineNbr": 1431,
      "author": {
        "id": 187
      },
      "writtenOn": "2019-07-10T15:03:15Z",
      "side": 1,
      "message": "I\u0027m not sure that it is enough to add this here. This info should be also part of the ironic\u0027s driver_info variable. The ironic virtmedia driver uses the ipmitool module from ironic which would look for the priv_level key in the driver_info variable when calling the ipmitool shell command: \nhttps://github.com/openstack/ironic/blob/246b86615789f7f926b7df58aee9a1fb24a2f80d/ironic/drivers/modules/ipmitool.py#L401\nSo I think you need to also modify this file:\nhttps://gerrit.akraino.org/r/gitweb?p\u003dta/infra-ansible.git;a\u003dblob;f\u003droles/baremetal_provision/tasks/ironic_nodes_create.yml;h\u003dfff4f11cafe0952f6c6107aecf0d0b543ddda9b2;hb\u003drefs/heads/master",
      "range": {
        "startLine": 1431,
        "startChar": 8,
        "endLine": 1431,
        "endChar": 70
      },
      "revId": "83c6a367816ae0897fcc4b941ffcc9216bfc998a",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40969232_34f42879",
        "filename": "inventoryhandlers/openstack/openstackinventory.py",
        "patchSetId": 5
      },
      "lineNbr": 1431,
      "author": {
        "id": 180
      },
      "writtenOn": "2019-07-10T15:18:25Z",
      "side": 1,
      "message": "Hmm. I\u0027m curious thing about that: that file doesn\u0027t explicitly mention the _other_ hwmgmt values (user and password in particular).  Why would it need to mention priv_level?  However, you\u0027re definitely on to something: there are a few other places in ta/infra-ansible where hwmgmt values ARE referenced: roles/baremetal_provision/tasks/*_console_logging.yml and roles/initial_poweroff_hosts/tasks/poweroff_real_nodes.yml.  I\u0027ll make a new change for those guys.\n\nThis tiny change is turning into a remarkable spelunking expedition.",
      "parentUuid": "fba431da_d54e3858",
      "range": {
        "startLine": 1431,
        "startChar": 8,
        "endLine": 1431,
        "endChar": 70
      },
      "revId": "83c6a367816ae0897fcc4b941ffcc9216bfc998a",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dafa9ced_917c1e16",
        "filename": "inventoryhandlers/openstack/openstackinventory.py",
        "patchSetId": 5
      },
      "lineNbr": 1431,
      "author": {
        "id": 180
      },
      "writtenOn": "2019-07-10T15:43:31Z",
      "side": 1,
      "message": "OK, new change in flight to fix the ansible tasks:\n\nhttps://gerrit.akraino.org/r/c/ta/infra-ansible/+/1160",
      "parentUuid": "40969232_34f42879",
      "range": {
        "startLine": 1431,
        "startChar": 8,
        "endLine": 1431,
        "endChar": 70
      },
      "revId": "83c6a367816ae0897fcc4b941ffcc9216bfc998a",
      "serverId": "4cada01b-0314-4fe0-84a1-f9ddc89863f9",
      "unresolved": false
    }
  ]
}